## Day 26 : HA 智慧裝置

### 智慧裝置設定

今天是個熱鬧的日子，

同時也是輕鬆開心的日子，

因為我們接下來只要來連接智慧裝置就可以開始使用了，

上回安裝完後大家應該也都設定了帳號，

現在看到的應該是空空如也的總覽畫面：

![](https://i.imgur.com/iC2OPhB.png)

那麼事不宜遲就來新增裝置吧！

首先就拿小米的 `Yee Light` 彩光燈泡來做個範例，

小米的 `Yee Light` 彩光燈泡由於是掛牌的，

所以用米家或是 `Yee Light` 的 `APP` 都可以新增裝置。

在改為連接到 `HA` 之前仍然需要先在 `APP` 新增裝置，

這裡我們使用 `Yee Light` 的 `APP` 比較方便，

因為她可以將燈泡直接設定為 `區域網路控制` ，

所以後續我們就可以直接透過 `IP` 來控制它。

### 修改 Yaml 設定檔

由於先前有設定好 `config` 的映射目錄，

我們需要來修改一下裏頭的 `configuration.yaml` 檔案，

> `C:\config\configuration.yaml`

這個 `yaml` 檔是一個文字文件設定檔，

所以使用記事本編輯器就可以將它打開，

我們在檔案最底下加上這些設定：

```yaml=
yeelight:
  devices:
    192.168.1.100:
      name: Light
```

其中的 `虛擬IP` 請根據裝置實際情況做修改，

名稱的部分則可以自由設定。

設定完之後需要讓伺服器重新啟動以讀取設定值：

![](https://i.imgur.com/1AeoW2e.png)

重新啟動後就可以在總覽看見自己的智慧裝置：

![](https://i.imgur.com/pOWo6PH.png)

當然不是每一種智慧裝置都那麼容易就可以設定並使用，

今天在做這個設定的時候也踩了個系統 `BUG` ，

如果妳跟筆者一樣遇到 `Yee Light` 設定正確但沒出現裝置，

那妳可以將 `HA` 降版降到 `0.114.3` 試試看，

或是升級到最新的 `HA` 版本也許就會正常了。